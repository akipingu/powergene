---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# powergene: A simulation-based power analysis R Package to aid the design of robust semi-field vector control experiments

<!-- badges: start -->

<!-- badges: end -->

This R package simulates mosquito count data under short-term semi-field experimental designs, incorporating fixed treatment effects and random chamber variability. Itâ€™s built for pragmatic trial planning, MSc-level teaching, and reproducible research workflows.

## Installation

You can install the development version of powergene directly from
[GitHub](https://github.com/) with:


```r
# install.packages("devtools") if not already installed
install.packages("devtools")
devtools::install_github("akipingu/powergene")
```

```{r}
#load library
library(powergene)
```

## Example 1: Estimating power of a short-term SFE testing single intervention

This is a basic example which shows you how to apply the powergene package to estimate power of a short-term SFE

(i) simulate a table of scenarios based on number of chamber per treatment provided, e.g., n.ch.per.trt=4. After specifying number of chamber per each treatment (control vs. intervention), the function sim.scen.shortsfe.sinint will output three columns including number of chambers per each treatment (replicates), treatment status (0 for control and 1 for intervention) and id for each individual chamber/replicate.

```{r}
sce.table <- sim.scen.shortsfe.sinint(n.ch.per.trt = 4)
sce.table
```


Simulate mosquitoes
```r
# Simulate mosquito counts with:
# - 4 chambers per treatment group
# - Baseline lambda = 50
# - 80% intervention effect (e.g., ITN)
# - Chamber-level variance = 0.1807

sim.mosquitoes <- sim.mosq.shortsfe.sinint(
  n.ch.per.trt = 4,
  lambda = 50,
  interv.effect = 0.8,
  chamber.var = 0.1807
)

head(sim.mosquitoes)
```
